<div class="card shadow-sm">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-start mb-2">
      <h5 class="card-title mb-0">{{ result.document.title }}</h5>
      <span class="badge {{ getFileBadgeClass() }}">{{ result.document.fileType.toUpperCase() }}</span>
    </div>

    <div class="card-subtitle mb-3 text-muted small">
      Uploaded: {{ formatDate(result.document.uploadDate) }}
    </div>

    <div class="relevance-bar mb-3">
      <div class="progress">
        <div
          class="progress-bar"
          role="progressbar"
          [style.width.%]="result.relevance"
          [class.bg-success]="result.relevance > 70"
          [class.bg-warning]="result.relevance <= 70 && result.relevance >= 40"
          [class.bg-danger]="result.relevance < 40"
          aria-valuemin="0"
          aria-valuemax="100"
        >
          {{ result.relevance }}% relevance
        </div>
      </div>
    </div>

    <div class="matched-content p-3 bg-light rounded mb-3">
      <p class="mb-0">{{ result.text }}</p>
    </div>

    <div class="d-flex justify-content-end">
      <a [routerLink]="['/view', result.document.id]" class="btn btn-outline-info btn-sm me-2">
        <i class="bi bi-eye me-1"></i>View
      </a>
      <a [routerLink]="['/analyze', result.document.id]" class="btn btn-outline-primary btn-sm">
        <i class="bi bi-graph-up me-1"></i>Analyze
      </a>
    </div>
  </div>
</div>
